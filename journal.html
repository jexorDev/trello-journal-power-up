<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
  </head>
  <style>
    select{
        height: 500px;
        width: 500px;
    }
  </style>
  <body>
    <script src="https://p.trellocdn.com/power-up.min.js"></script>
    <script src="/journal.js"></script>
    <div id="journal">
        <h1>Journal</h1>
    </h1>
    <script>
      
        var t = window.TrelloPowerUp.iframe();

        let cards = t.arg("cards");
        let goalMap = new Map();        
        
        for (var i = 0; i < cards.length; i++){
          if (cards[i]["labels"] !== undefined) {
            for (var j = 0; j < cards[i]["labels"].length; j++) {
              document.write("<br>" + cards[i]["labels"][j]["name"]);
              const goalName = cards[i]["labels"][j]["name"];
              const cardName = cards[i]["name"];
              goalMap.set(goalName, cardName);

            }
            
          }          
        }

        goalMap.forEach(function(value, key, map) {
          document.write("<br>" + key + " " + value);
        })

    </script>
  </body>
  <style>
    
  </style>
</html>
